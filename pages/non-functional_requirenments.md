## Анализ и список нефункциональных требований

### 1. Безопасность и Конфиденциальность (Security & Privacy)
- Аутентификация и авторизация. Все запросы к API должны аутентифицироваться с использованием JWT-токенов. Неавторизованные запросы отклоняются с кодом 401.
- Защита данных в покое и при передаче. Все персональные данные (PII) и данные о здоровье должны храниться в зашифрованном виде (AES-256).
- Управление согласием. Система должна запрашивать явное согласие пользователя на сбор и обработку геолокационных и биометрических данных. Пользователь должен иметь возможность отозвать согласие в настройках профиля.
- Удаление данных. По запросу пользователя система должна обеспечить полное и невосстановимое удаление всех его персональных данных из всех систем в течение 72 часов.

### 2. Надежность (Reliability / Availability)
- Доступность API. Ключевые пользовательские API (аутентификация, старт/завершение тренировки, просмотр ленты) должны иметь доступность на уровне 99.9%.
- Восстановление после сбоев. В случае сбоя региона время восстановления работы не должно превышать 30 минут.

### 3. Производительность / Отзывчивость (Performance)
- Пропускная способность. Система должна поддерживать 10 000 одновременно активных сессий трекинга тренировок с отправкой данных раз в 10 секунд.

### 4. Совместимость / Интегрируемость (Compatibility)
- Внешние фитнес-устройства. Система должна предоставлять стабильный OAuth 2.0 API и вебхуки для интеграции. Должна быть обеспечена поддержка трех основных провайдеров (Garmin, Apple Health/Google Fit) на момент запуска.
- Внутренняя e-commerce интеграция. Интеграционный слой с e-commerce системами компании должен иметь доступность 99.5%. Сбой или высокая задержка со стороны e-commerce не должна приводить к падению core-функций приложения.

### 5. Наблюдаемость (Observability)
- Централизованное логирование. 100% приложений и инфраструктурных компонентов должны отправлять структурированные логи (JSON) в централизованную систему (например, ELK Stack). Поиск по логам по идентификатору пользователя или транзакции должен выполняться менее чем за 10 секунд.
- Метрики в реальном времени. Система должна предоставлять ключевые бизнес-метрики (WAU, количество завершенных тренировок) и системные метрики (задержка, ошибки) в real-time дашборде (например, Grafana). Обновление данных — не реже, чем раз в 30 секунд.

### 6. Локализуемость (Localizability)
- Региональные настройки. Система должна поддерживать динамическое включение/выключение функциональности и контента по регионам на основе feature flags без необходимости деплоя нового кода.
